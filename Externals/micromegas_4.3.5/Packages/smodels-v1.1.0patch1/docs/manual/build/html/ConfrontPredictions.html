

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Confronting Predictions with Experimental Limits &mdash; SModelS 1.1.0patch1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="SModelS 1.1.0patch1 documentation" href="index.html"/>
        <link rel="up" title="SModelS Structure" href="Structure.html"/>
        <link rel="next" title="Output Description" href="OutputDescription.html"/>
        <link rel="prev" title="Database of Experimental Results" href="DatabaseStructure.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SModelS
          

          
          </a>

          
            
            
              <div class="version">
                1.1.0patch1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ReleaseUpdate.html">What&#8217;s New in Version 1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation and Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="RunningSModelS.html">Using SModelS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">SModelS Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="SModelsDocs.html">Detailed Guide to SModelS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="SModelSDefs.html">Basic Concepts and Definitions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="Structure.html">SModelS Structure</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="BasicInput.html">Basic Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="Decomposition.html">Decomposition into Simplified Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="TheoryPredictions.html">Theory Predictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="DatabaseStructure.html">Database of Experimental Results</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Confronting Predictions with Experimental Limits</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#likelihood-computation">Likelihood Computation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OutputDescription.html">Output Description</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">How To&#8217;s</a></li>
<li class="toctree-l1"><a class="reference internal" href="CodeDocs.html">SModelS Code Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SModelS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="SModelsDocs.html">Detailed Guide to SModelS</a> &raquo;</li>
      
          <li><a href="Structure.html">SModelS Structure</a> &raquo;</li>
      
    <li>Confronting Predictions with Experimental Limits</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/ConfrontPredictions.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="index-0"></span><div class="section" id="confronting-predictions-with-experimental-limits">
<span id="confrontpredictions"></span><h1>Confronting Predictions with Experimental Limits<a class="headerlink" href="#confronting-predictions-with-experimental-limits" title="Permalink to this headline">Â¶</a></h1>
<p>Once the relevant signal cross sections (or <a class="reference internal" href="TheoryPredictions.html#theorypredictions"><span>theory predictions</span></a>) have been computed
for the input model, these must be compared to the respective upper limits.
The upper limits for the signal are stored in the SModelS <a class="reference internal" href="DatabaseDefinitions.html#database"><span>Database</span></a>
and depend on the type of <a class="reference internal" href="DatabaseDefinitions.html#expresult"><span>Experimental Result</span></a>: <a class="reference internal" href="DatabaseDefinitions.html#ultype"><span>UL-type</span></a> or <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type</span></a>.</p>
<p>In the case of a <a class="reference internal" href="DatabaseDefinitions.html#ultype"><span>UL-type result</span></a>, the theory predictions typically consist of a list of signal
cross sections (one for each cluster) for
the single <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a> (see <a class="reference internal" href="TheoryPredictions.html#thepredul"><span>Theory  Predictions for Upper Limit Results</span></a> for more details).
Each theory prediction must then be compared to its
corresponding upper limit.  This limit is simply the cross section upper limit provided by
the experimental publication or conference note and is extracted from the corresponding UL map (see <a class="reference internal" href="DatabaseDefinitions.html#ultype"><span>UL-type results</span></a>).</p>
<p>For <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type results</span></a> there is a single cluster for each <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a> (or signal region), and hence a single signal cross section
value. This value must be compared to the upper limit for the corresponding signal region.
This upper limit is easily computed using the number of observed and expected events for the <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a>
and their uncertainties and is typically stored in the <a class="reference internal" href="DatabaseDefinitions.html#database"><span>Database</span></a>.
Since most <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type results</span></a> have several signal regions (<a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data sets</span></a>), there will be one theory prediction/upper limit
for each <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a>. By default SModelS keeps only the best <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a>, i.e. the one with the largest
ratio <span class="math">\(\mbox{(theory prediction)}/\mbox{(expected limit)}\)</span>.
Thus each <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type result</span></a> will have a single theory prediction/upper limit, corresponding to the best <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a>
(based on the expected limit).
If the user wants to have access to all the <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data sets</span></a>, the default
behavior can be disabled by setting <em>useBestDataset=False</em> in <a class="reference external" href="../../../documentation/build/html/theory.html#theory.theoryPrediction.theoryPredictionsFor">theoryPredictionsFor</a> (see <a class="reference internal" href="RunningSModelS.html#examplecode"><span>Example.py</span></a>).</p>
<p>The procedure described above can be applied to all the <a class="reference internal" href="DatabaseDefinitions.html#expresult"><span>Experimental Results</span></a> in the database, resulting
in a list of theory predictions and upper limits for each <a class="reference internal" href="DatabaseDefinitions.html#expresult"><span>Experimental Result</span></a>. A model can then be considered
excluded by the experimental results if, for one or more predictions, we have <em>theory prediction</em> <span class="math">\(&gt;\)</span> <em>upper limit</em> <a class="footnote-reference" href="#id2" id="id1">[*]</a>.</p>
<ul class="simple">
<li><strong>The upper limits for a given</strong>  <a class="reference internal" href="DatabaseDefinitions.html#ultype"><span>UL-type result</span></a> <strong>or</strong> <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type result</span></a> <strong>can be obtained using the</strong> <a class="reference external" href="../../../documentation/build/html/experiment.html#experiment.expResultObj.ExpResult.getUpperLimitFor">getUpperLimitFor  method</a></li>
</ul>
<div class="section" id="likelihood-computation">
<span id="likelihoodcalc"></span><h2>Likelihood Computation<a class="headerlink" href="#likelihood-computation" title="Permalink to this headline">Â¶</a></h2>
<p>For <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type results</span></a> a <span class="math">\(\chi^2\)</span>-value can also be computed (in addition to the upper limits above).
The <span class="math">\(\chi^2\)</span> is computed from the likelihood using:</p>
<div class="math">
\[\chi^2 = -2 \log\left(\frac{L(n_{\mathrm{signal}})}{L_{\mathrm{max}}}\right)\]</div>
<p>where <span class="math">\(L(n_{\mathrm{signal}})\)</span> is the likelihood for a given number of signal events.
The likelihood is computed using a simple Poisson convoluted with a Gaussian (for the
background and signal uncertainties) as a function of
the number of observed events (<span class="math">\(n_{\mathrm{obs}}\)</span>), the number of expected background events
(<span class="math">\(n_{b}\)</span>) and its error (<span class="math">\(\delta_{b}\)</span>)
and the number of signal events (<span class="math">\(n_{\mathrm{signal}}\)</span>) and its error (<span class="math">\(\delta_{s})\)</span>).
While <span class="math">\(n_{\mathrm{obs}}\)</span>, <span class="math">\(n_{b}\)</span> and <span class="math">\(\delta_{b}\)</span> are directly extracted from the <a class="reference internal" href="DatabaseDefinitions.html#dataset"><span>data set</span></a>,
<span class="math">\(n_{\mathrm{signal}}\)</span> is obtained from the <a class="reference internal" href="TheoryPredictions.html#theorypredictions"><span>Theory Predictions</span></a> calculation and
<span class="math">\(\delta_{s} = 20\%~\cdot n_{\mathrm{signal}}\)</span> by default.</p>
<ul class="simple">
<li><strong>The</strong> <span class="math">\(\chi^2\)</span> <strong>for a given</strong> <a class="reference internal" href="DatabaseDefinitions.html#emtype"><span>EM-type result</span></a> <strong>is computed using the</strong> <a class="reference external" href="../../../documentation/build/html/tools.html#tools.statistics.chi2">chi2  method</a></li>
</ul>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[*]</a></td><td>The statistical significance of the exclusion statement is difficult to quantify exactly, since the model
is being tested by a large number of results simultaneously.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="OutputDescription.html" class="btn btn-neutral float-right" title="Output Description" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="DatabaseStructure.html" class="btn btn-neutral" title="Database of Experimental Results" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Federico Ambrogi, Sabine Kraml, Suchita Kulkarni, Ursula Laa, Andre Lessa, Veronika Magerl, Wolfgang Magerl, Doris Proschofsky, Michael Traub, Jory Sonneveld, Wolfgang Waltenberger.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1.0patch1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>