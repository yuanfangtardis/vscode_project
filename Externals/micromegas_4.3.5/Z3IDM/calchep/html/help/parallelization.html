<html>
<head>
	<title>CalcHEP Batch Help</title>
	<link rel='stylesheet' href='../style.css' type='text/css'></link>
</head>
<body>
	<div id='links'>
		<ul>
			<li><a href='../index.html'>Home</a></li>
			<li><a href='../symbolic.html'>Symbolic Results</a></li>
			<li><a href='../numerical.html'>Numerical Results</a></li>
			<li><a href='../events.html'>Events Library</a></li>
			<li><a href='../library.html'>Process Library</a></li>
			<li><a href='index.html'>Help</a>
				<ul>
					<li><a href='batch_file.html'>Batch File</a><ul>
						<li><a href='comment.html'>Comments</a></li>
						<li><a href='model.html'>Model</a></li>
						<li><a href='process.html'>Process</a></li>
						<li><a href='pdf.html'>PDF</a></li>
						<li><a href='momentum.html'>Momentum</a></li>
						<li><a href='parameters.html'>Parameters</a></li>
						<li><a href='runs.html'>Scans</a></li>
						<li><a href='qcd.html'>QCD</a></li>
                                                <li><a href='BW.html'>BW</a></li>
						<li><a href='cuts.html'>Cuts</a></li>
						<li><a href='kinematics.html'>Kinematics</a></li>
						<li><a href='regularization.html'>Regularization</a></li>
						<li><a href='distributions.html'>Distribution</a></li>
						<li><a href='events.html'>Events</a></li>
						<li><a href='parallelization.html'>Parallelization</a></lii>
						<li><a href='vegas.html'>Vegas</a></li>
						<li><a href='generator.html'>Generator</a></li>
						<li><a href='example1.html'>Example 1</a></li>
						<li><a href='example2.html'>Example 2</a></li>
						<li><a href='example3.html'>Example 3</a></li>
					</ul></li>
					<li><a href='process_library.html'>Process Library</a></li>
					<li><a href='event_library.html'>Event Library</a></li>
				</ul>
			</li>
			<br>
			<li>Thank you for using <a href='http://theory.sinp.msu.ru/~pukhov/calchep.html'>CalcHEP</a>!</li>
			<li>Please cite <a href='http://inspirehep.net/record/1123804'>arXiv:1207.6082</a></li>
		</ul>
	</div>
	<div id='help_main'>
		<h1>Parallelization Help</h1>
		<h3>Parallelization Method</h3>
		<p>
			The parallelization mode is set using the keyphrase "Parallelization method" and can be either "local", "pbs" or "lsf".  In local mode, the jobs run on the local computer while in pbs mode, the jobs are run on a pbs cluster.  If run from a pbs or lsf cluster, the terminal should be on the computer with the pbs or lsf queue.  Here is an example of setting the batch to run in pbs mode:<br>
			<table>
				<tr><td>Parallelization mode</td><td>:</td><td>pbs</td></tr>
			</table>
			Local mode is the default.
		</p>
		<h3>PBS</h3>
		<p>
		If run in pbs mode, there are several options that may be necessary for the pbs cluster.  All of them can be left blank in which case they will not be given to the pbs cluster.  Here is an example of the options available:<br>
		<table>
			<tr><td>Que</td><td>:</td><td>brody</td></tr>
			<tr><td>Walltime</td><td>:</td><td>1.5</td></tr>
			<tr><td>Memory</td><td>:</td><td>1</td></tr>
			<tr><td>email</td><td>:</td><td>name@address</td></tr>
		</table>
		The que specifies which pbs que to  submit the jobs to.  Walltime specifies the maximum time (in hours) the job can run for.  If this time is exceeded, the jobs are killed by the pbs cluster.  Memory specifies the maximum amount of memory (in G) that the jobs can use.  If this memory is exceeded by a job, the pbs cluster will kill the job.  email specifies which email to send a message to if the job terminates prematurely.  The default for all of these is whatever is the default on the pbs cluster.
		</p>
		<h3>LSF</h3>
		<p>
		If run in lsf mode, there are several options that may be necessary for the lsf cluster.  All of them can be left blank in which case they will not be given to the lsf cluster.  Here is an example of the options available:<br>
		<table>
			<tr><td>Que</td><td>:</td><td>brody</td></tr>
			<tr><td>Walltime</td><td>:</td><td>1.5</td></tr>
			<tr><td>Memory</td><td>:</td><td>1</td></tr>
			<tr><td>email</td><td>:</td><td>name@address</td></tr>
                        <tr><td>Project</td><td>:</td><td>project_name</td></tr>
		</table>
		The que specifies which lsf que to  submit the jobs to.  Walltime specifies the maximum time (in hours) the job can run for.  If this time is exceeded, the jobs are killed by the lsf cluster.  Memory specifies the maximum amount of memory (in G) that the jobs can use.  If this memory is exceeded by a job, the lsf cluster will kill the job.  email specifies which email to send any messages t.  The default for all of these is whatever is the default on the lsf cluster.
		</p>
		<h3>Sleep Time</h3>
		<p>
		Sleep time specifies the amount of time (in seconds) the batch script waits before checking which jobs are done and updating the html progress reports.  If a very short test run is being done, then this should be low (say a few seconds).  However, if the job is very large and will take severl hours or days, this should be set very high (say minutes or tens of minutes).  This will reduce the amount of cpu time the batch program uses.  Here is an example setting the sleep time to 1 minute:<br>
		<table>
			<tr><td>sleep time</td><td>:</td><td>60</td></tr>
		</table>
		The default is 3 seconds.
		</p>
		<h3>Nice Level</h3>
		<p>
			When jobs are run on the local computer, this specifies what nice level the jobs should be run at.  If other users are using the same computer, this allows the job to be put into the background and run at lower priority so as not to disturb the other users.  This should be between 0 and 19 where 19 is the lowest priority and the nicest.  Typically, it should be run at level 19 unless the user is sure it will not disturb anyone.  The nice level should be set both for a local computer and for a pbs batch run.  The reason is that some jobs are run on the pbs queue computer even on the pbs cluster.  Here is an example:<br>
			<table>
				<tr><td>Nice level</td><td>:</td><td>19</td></tr>
			</table>
			Level 19 is the default.
		</p>
	</div>
</body>
</html>
